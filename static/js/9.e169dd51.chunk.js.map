{"version":3,"sources":["images/imagePlaceholder.jpg","components/NASAlibrary/nasaLibrary.module.css","components/NASAlibrary/nasaLibraryMedia.module.css","components/NASAlibrary/nasaLibrary.jsx"],"names":["module","exports","NasaLibrary","dispatch","useDispatch","isFetching","useSelector","state","library","result","currentSearch","mediaType","yearStart","yearEnd","page","totalPages","error","errors","useEffect","getSearchResult","window","scrollTo","setNewError","setSearchStart","className","s","nasaLibrary","cn","title","m","errorCase","imagesArray","map","r","imageHolder","image","src","links","href","alt","onError","e","target","imagePlaceHolder","indexOf","buttonsHolder","pageButton","onClick","prevPage","nextPage"],"mappings":"0GAAe,QAA0B,8C,oBCCzCA,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,YAAc,iCAAiC,YAAc,iCAAiC,YAAc,iCAAiC,MAAQ,2BAA2B,cAAgB,mCAAmC,WAAa,gCAAgC,UAAY,iC,oBCAjVD,EAAOC,QAAU,CAAC,MAAQ,kC,iCCD1B,+HAiFeC,UArEK,WAEhB,IAAMC,EAAWC,cACXC,EAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQH,cAChDI,EAASH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQC,UAC5CC,EAAgBJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQE,iBACnDC,EAAYL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQG,aAC/CC,EAAYN,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQI,aAC/CC,EAAUP,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQK,WAC7CC,EAAOR,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQM,QAC1CC,EAAaT,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQO,cAChDC,EAAQV,aAAY,SAAAC,GAAK,OAAIA,EAAMU,OAAOD,SAehD,OAbAE,qBAAU,WACNf,EAASgB,YAAgBT,EAAeC,EAAWC,EAAWC,EAASC,IACvEM,OAAOC,SAAS,EAAG,KACrB,CAAClB,EAAUO,EAAeC,EAAWC,EAAWC,EAASC,IAE3DI,qBAAU,WACNf,EAASmB,YAAY,SACvB,CAACnB,IAEHe,qBAAU,WACNf,EAASoB,aAAe,MAC1B,CAACpB,IAGC,sBAAKqB,UAAWC,IAAEC,YAAlB,UACI,oBAAIF,UAAWG,IAAGF,IAAEG,MAAOC,IAAED,OAA7B,2CAEEnB,GAAUO,GACZ,qBAAKQ,UAAWC,IAAEK,UAAlB,yCAEErB,IAAWO,GACb,cAAC,IAAD,IAECP,IAAWO,GACZ,gCACKX,GAAc,cAAC,IAAD,KACbA,GACF,qBAAKmB,UAAWC,IAAEM,YAAlB,SAEQtB,EAAOuB,KAAI,SAAAC,GAAC,OAAI,qBAAKT,UAAWC,IAAES,YAAlB,SACZ,qBAAKV,UAAWC,IAAEU,MACbC,IAAKH,EAAEI,MAAM,GAAGC,KAChBC,IAAI,eACJC,QAAU,SAACC,GAAOA,EAAEC,OAAON,IAAMO,QAJUlC,EAAOmC,QAAQX,SAS3E,sBAAKT,UAAWC,IAAEoB,cAAlB,UAEQ/B,EAAO,GACP,cAAC,IAAD,CAAkBU,UAAWC,IAAEqB,WACbC,QAAU,WAAO5C,EAAS6C,kBAG5ClC,IAASC,GACT,cAAC,IAAD,CAAgBS,UAAWC,IAAEqB,WACbC,QAAU,WAAO5C,EAAS8C","file":"static/js/9.e169dd51.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/imagePlaceholder.d121e487.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibrary_title__I9cYy\",\"nasaLibrary\":\"nasaLibrary_nasaLibrary__3-mxF\",\"imagesArray\":\"nasaLibrary_imagesArray__1rRDU\",\"imageHolder\":\"nasaLibrary_imageHolder__2U6sN\",\"image\":\"nasaLibrary_image__hl1L1\",\"buttonsHolder\":\"nasaLibrary_buttonsHolder__2ojL_\",\"pageButton\":\"nasaLibrary_pageButton__12oEX\",\"errorCase\":\"nasaLibrary_errorCase__NN8eH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibraryMedia_title__3eoBn\"};","import React, {useEffect} from \"react\";\r\nimport s from './nasaLibrary.module.css'\r\nimport m from './nasaLibraryMedia.module.css'\r\nimport cn from 'classnames'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSearchResult, nextPage, prevPage, setSearchStart} from \"../../reducers/nasaLibrary\";\r\nimport Preloader from \"../../helpers/preloaders/preloader\";\r\nimport { MdNavigateBefore } from 'react-icons/md';\r\nimport { MdNavigateNext } from 'react-icons/md';\r\nimport {setNewError} from \"../../reducers/errors\";\r\nimport imagePlaceHolder from \"../../images/imagePlaceholder.jpg\";\r\n\r\nconst NasaLibrary = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const isFetching = useSelector(state => state.library.isFetching)\r\n    const result = useSelector(state => state.library.result)\r\n    const currentSearch = useSelector(state => state.library.currentSearch)\r\n    const mediaType = useSelector(state => state.library.mediaType)\r\n    const yearStart = useSelector(state => state.library.yearStart)\r\n    const yearEnd = useSelector(state => state.library.yearEnd)\r\n    const page = useSelector(state => state.library.page)\r\n    const totalPages = useSelector(state => state.library.totalPages)\r\n    const error = useSelector(state => state.errors.error)\r\n\r\n    useEffect(()=>{\r\n        dispatch(getSearchResult(currentSearch, mediaType, yearStart, yearEnd, page))\r\n        window.scrollTo(0, 0)\r\n    },[dispatch, currentSearch, mediaType, yearStart, yearEnd, page])\r\n\r\n    useEffect(()=>{\r\n        dispatch(setNewError(null))\r\n    },[dispatch])\r\n\r\n    useEffect(()=>{\r\n        dispatch(setSearchStart(false))\r\n    },[dispatch])\r\n\r\n    return (\r\n        <div className={s.nasaLibrary}>\r\n            <h2 className={cn(s.title, m.title)}>NASA photo and Video library</h2>\r\n\r\n            {!result && error &&\r\n            <div className={s.errorCase}>No results for this search</div>}\r\n\r\n            {!result && !error &&\r\n            <Preloader/>}\r\n\r\n            {result && !error &&\r\n            <div>\r\n                {isFetching && <Preloader />}\r\n                {!isFetching &&\r\n                <div className={s.imagesArray}>\r\n                    {\r\n                        result.map(r => <div className={s.imageHolder} key={result.indexOf(r)}>\r\n                            <img className={s.image}\r\n                                 src={r.links[0].href}\r\n                                 alt=\"archivePhoto\"\r\n                                 onError={ (e) => {e.target.src = imagePlaceHolder}}/>\r\n                        </div>)\r\n                    }\r\n                </div>\r\n                }\r\n                <div className={s.buttonsHolder}>\r\n                    {\r\n                        page > 1 &&\r\n                        <MdNavigateBefore className={s.pageButton}\r\n                                          onClick={ () => {dispatch(prevPage())} }/>\r\n                    }\r\n                    {\r\n                        page !== totalPages &&\r\n                        <MdNavigateNext className={s.pageButton}\r\n                                        onClick={ () => {dispatch(nextPage())} }/>\r\n                    }\r\n                </div>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NasaLibrary"],"sourceRoot":""}
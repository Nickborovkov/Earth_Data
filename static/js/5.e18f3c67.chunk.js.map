{"version":3,"sources":["helpers/formHelpers/formsStylesMedia.module.css","images/imagePlaceholder.jpg","components/earthImage/earthImage.module.css","components/earthImage/earthImageMedia.module.css","components/earthImage/datePicker/setDateEarthImage.jsx","helpers/urlHelper/earthImageURLHelper.js","components/earthImage/earthImage.jsx"],"names":["module","exports","SetDateEarthImage","dispatch","useDispatch","error","useSelector","state","errors","validationSchema","yup","shape","selectedDate","required","initialValues","validateOnBlur","onSubmit","values","setEarthImageDate","setNewError","touched","handleSubmit","handleBlur","handleChange","isValid","dirty","className","cn","s","form","m","title","inputsHolder","formInputHelper","formSubtitle","input","dateToday","formButtonHelper","formButton","errorCase","earthImageUrlHelper","date","item","dateArray","split","splitedDate","year","month","EarthImage","earthImage","SelectedDate","searchStart","library","useEffect","getEarthImage","to","imagesArray","map","e","imagesItem","imageDate","params","centroid_coordinates","lat","lon","imageHolder","image","src","alt","onError","target","imagePlaceHolder","identifier"],"mappings":"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","file":"static/js/5.e18f3c67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"formsStylesMedia_form__2kri3\"};","export default __webpack_public_path__ + \"static/media/imagePlaceholder.d121e487.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"earthImage\":\"earthImage_earthImage__3Plbt\",\"title\":\"earthImage_title__2XHhF\",\"imageHolder\":\"earthImage_imageHolder__1fnwk\",\"image\":\"earthImage_image__1DvIT\",\"imageDate\":\"earthImage_imageDate__1-Fpm\",\"params\":\"earthImage_params__2WyrP\",\"imagesArray\":\"earthImage_imagesArray__X2fZZ\",\"imagesItem\":\"earthImage_imagesItem__qZ-XI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imagesItem\":\"earthImageMedia_imagesItem__mCVVO\",\"title\":\"earthImageMedia_title__18GrP\"};","import React from \"react\";\r\nimport s from '../../../helpers/formHelpers/formsStyles.module.css'\r\nimport m from '../../../helpers/formHelpers/formsStylesMedia.module.css'\r\nimport cn from 'classnames'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport * as yup from 'yup'\r\nimport {Formik} from \"formik\";\r\nimport {setEarthImageDate} from \"../../../reducers/earthImage\";\r\nimport {formButtonHelper, formInputHelper} from \"../../../helpers/formHelpers/formHelpers\";\r\nimport {dateToday} from \"../../../helpers/dateHelper/dateToday\";\r\nimport {setNewError} from \"../../../reducers/errors\";\r\n\r\nconst SetDateEarthImage = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const error = useSelector(state => state.errors.error)\r\n    const validationSchema = yup.object().shape({\r\n        selectedDate: yup\r\n            .string()\r\n            .required(`Date required`)\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <Formik\r\n                initialValues={{\r\n                    selectedDate: ``\r\n                }}\r\n                validateOnBlur\r\n                onSubmit={ (values) => {\r\n                    dispatch(setEarthImageDate(values.selectedDate))\r\n                    dispatch(setNewError(null))\r\n                } }\r\n                validationSchema={validationSchema}\r\n            >\r\n                { ({values, touched, errors, handleSubmit, handleBlur, handleChange, isValid, dirty}) => (\r\n                    <form className={cn(s.form, m.form)}>\r\n                        <h3 className={s.title}>Set exact date</h3>\r\n                        <div className={s.inputsHolder}>\r\n                            {formInputHelper(s.formSubtitle, `Date`, touched.selectedDate, errors.selectedDate,\r\n                                s.input, `date`, `selectedDate`, `2015-06-13`, dateToday, handleChange,\r\n                                handleBlur, values.selectedDate)}\r\n                        </div>\r\n                        {formButtonHelper(s.formButton, isValid, dirty, handleSubmit, `Show`)}\r\n                        {error && <h3 className={s.errorCase}>Not available, please change date</h3>}\r\n                    </form>\r\n                ) }\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SetDateEarthImage","export const earthImageUrlHelper = (date, item) => {\r\n    const apiKey = `ZWGiTATMzPHjpsUJSj289aerwaSsLpikIiYBhaek`\r\n    const dateArray = date.split(`-`)\r\n    const splitedDate = {\r\n        year: dateArray[0],\r\n        month: dateArray[1],\r\n        date: dateArray[2],\r\n    }\r\n    return `https://api.nasa.gov/EPIC/archive/natural/${splitedDate.year}/${splitedDate.month}/${splitedDate.date}/png/${item}.png?api_key=${apiKey}`\r\n}","import React, {useEffect} from \"react\";\r\nimport s from './earthImage.module.css'\r\nimport m from './earthImageMedia.module.css'\r\nimport cn from 'classnames'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getEarthImage} from \"../../reducers/earthImage\";\r\nimport Preloader from \"../../helpers/preloaders/preloader\";\r\nimport SetDateEarthImage from \"./datePicker/setDateEarthImage\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {earthImageUrlHelper} from \"../../helpers/urlHelper/earthImageURLHelper\";\r\nimport {setNewError} from \"../../reducers/errors\";\r\nimport imagePlaceHolder from \"../../images/imagePlaceholder.jpg\";\r\n\r\nconst EarthImage = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const earthImage = useSelector(state => state.earthImage.earthImage)\r\n    const SelectedDate = useSelector(state => state.earthImage.date)\r\n    const searchStart = useSelector(state => state.library.searchStart)\r\n    const error = useSelector(state => state.errors.error)\r\n\r\n    useEffect(() => {\r\n        dispatch(getEarthImage(SelectedDate))\r\n    }, [dispatch, SelectedDate])\r\n\r\n    useEffect(()=>{\r\n        dispatch(setNewError(null))\r\n    },[dispatch])\r\n\r\n    if(!earthImage) return <Preloader />\r\n\r\n    if(searchStart) return <Redirect to='/nasaLibrary'/>\r\n\r\n    return (\r\n        <div className={s.earthImage}>\r\n            <h2 className={cn(s.title, m.title)}>Earth Polychromatic Imaging Camera Photos</h2>\r\n            <SetDateEarthImage />\r\n\r\n            {!earthImage && !error &&\r\n            <Preloader/>}\r\n\r\n            {earthImage !== 0 && !error &&\r\n            <div className={s.imagesArray}>\r\n                {\r\n                    earthImage.map(e => <div key={e.identifier} className={cn(s.imagesItem, m.imagesItem)}>\r\n                        <div>\r\n                            <h3 className={s.imageDate}>Date: {e.date}</h3>\r\n                            <p className={s.params}>Latitude: {e.centroid_coordinates.lat}</p>\r\n                            <p className={s.params}>Longitude: {e.centroid_coordinates.lon}</p>\r\n                        </div>\r\n                        <div className={s.imageHolder}>\r\n                            <img className={s.image}\r\n                                 src={earthImageUrlHelper(SelectedDate, e.image)}\r\n                                 alt=\"earthImage\"\r\n                                 onError={ (e) => {e.target.src = imagePlaceHolder}}/>\r\n                        </div>\r\n                    </div>)\r\n                }\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EarthImage"],"sourceRoot":""}
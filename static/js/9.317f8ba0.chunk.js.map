{"version":3,"sources":["helpers/commonStyles/commonStyles.module.css","images/imagePlaceholder.jpg","helpers/modalWindow/modalWindow.jsx","helpers/modalWindow/modalWindow.module.css","components/NASAlibrary/nasaLibrary.module.css","components/NASAlibrary/nasaLibraryMedia.module.css","components/NASAlibrary/nasaLibrary.jsx"],"names":["module","exports","ModalWindow","active","setActive","children","className","cn","s","modalBody","activeBody","onClick","modalContent","activeContent","e","stopPropagation","NasaLibrary","dispatch","useDispatch","isFetching","useSelector","state","library","result","currentSearch","mediaType","yearStart","yearEnd","page","totalPages","error","errors","searchStart","useState","modalWindow","setModalWindow","modalSrc","setModalSrc","useEffect","getSearchResult","window","scrollTo","setNewError","setSearchStart","nasaLibrary","title","m","errorCase","imagesArray","map","r","imageHolder","height","image","src","links","href","alt","currentTarget","onError","target","imagePlaceHolder","indexOf","common","modalImage","buttonsHolder","pageButton","prevPage","nextPage"],"mappings":"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","file":"static/js/9.317f8ba0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalImage\":\"commonStyles_modalImage__2f9nz\"};","export default __webpack_public_path__ + \"static/media/imagePlaceholder.d121e487.jpg\";","import React from \"react\";\r\nimport s from \"./modalWindow.module.css\"\r\nimport cn from 'classnames'\r\n\r\nconst ModalWindow = ({active, setActive, children}) => {\r\n    return (\r\n        <div className={cn(s.modalBody, active && s.activeBody)}\r\n             onClick={ () => { setActive(false) } }>\r\n            <div className={cn(s.modalContent, active && s.activeContent)}\r\n                 onClick={ (e) => {e.stopPropagation()} }>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModalWindow","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBody\":\"modalWindow_modalBody__37t9c\",\"activeBody\":\"modalWindow_activeBody__1vcwk\",\"modalContent\":\"modalWindow_modalContent__1UFnh\",\"activeContent\":\"modalWindow_activeContent__1TwDg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibrary_title__1Ll2J\",\"nasaLibrary\":\"nasaLibrary_nasaLibrary__2qwjM\",\"imagesArray\":\"nasaLibrary_imagesArray__2Gg7e\",\"imageHolder\":\"nasaLibrary_imageHolder__3_7x7\",\"image\":\"nasaLibrary_image__1VLmU\",\"buttonsHolder\":\"nasaLibrary_buttonsHolder__19Mrx\",\"pageButton\":\"nasaLibrary_pageButton__JFnSb\",\"errorCase\":\"nasaLibrary_errorCase__1UOTE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibraryMedia_title__2Crz0\"};","import React, {useEffect, useState} from \"react\";\r\nimport s from './nasaLibrary.module.css'\r\nimport m from './nasaLibraryMedia.module.css'\r\nimport common from '../../helpers/commonStyles/commonStyles.module.css'\r\nimport cn from 'classnames'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSearchResult, nextPage, prevPage, setSearchStart} from \"../../reducers/nasaLibrary\";\r\nimport Preloader from \"../../helpers/preloaders/preloader\";\r\nimport { MdNavigateBefore } from 'react-icons/md';\r\nimport { MdNavigateNext } from 'react-icons/md';\r\nimport {setNewError} from \"../../reducers/errors\";\r\nimport imagePlaceHolder from \"../../images/imagePlaceholder.jpg\";\r\nimport LazyLoad from 'react-lazyload'\r\nimport ModalWindow from \"../../helpers/modalWindow/modalWindow\";\r\n\r\nconst NasaLibrary = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const isFetching = useSelector(state => state.library.isFetching)\r\n    const result = useSelector(state => state.library.result)\r\n    const currentSearch = useSelector(state => state.library.currentSearch)\r\n    const mediaType = useSelector(state => state.library.mediaType)\r\n    const yearStart = useSelector(state => state.library.yearStart)\r\n    const yearEnd = useSelector(state => state.library.yearEnd)\r\n    const page = useSelector(state => state.library.page)\r\n    const totalPages = useSelector(state => state.library.totalPages)\r\n    const error = useSelector(state => state.errors.error)\r\n    const searchStart = useSelector(state => state.library.searchStart)\r\n\r\n    const [modalWindow, setModalWindow] = useState(false)\r\n    const [modalSrc, setModalSrc] = useState(``)\r\n\r\n    useEffect(()=>{\r\n        dispatch(getSearchResult(currentSearch, mediaType, yearStart, yearEnd, page))\r\n        window.scrollTo(0, 0)\r\n    },[dispatch, currentSearch, mediaType, yearStart, yearEnd, page])\r\n\r\n    useEffect(()=>{\r\n        dispatch(setNewError(null))\r\n    },[dispatch])\r\n\r\n    useEffect(()=>{\r\n        dispatch(setSearchStart(false))\r\n    },[dispatch, searchStart])\r\n\r\n\r\n    return (\r\n        <div className={s.nasaLibrary}>\r\n            <h2 className={cn(s.title, m.title)}>NASA photo and Video library</h2>\r\n\r\n            {!result && error &&\r\n            <div className={s.errorCase}>No results for this search</div>}\r\n\r\n            {!result && !error &&\r\n            <Preloader/>}\r\n\r\n            {result && !error &&\r\n            <div>\r\n                {isFetching && <Preloader />}\r\n                {!isFetching &&\r\n                <div className={s.imagesArray}>\r\n                    {\r\n                        result.map(r => <div className={s.imageHolder} key={result.indexOf(r)}>\r\n                            <LazyLoad height={300}>\r\n                                <img className={s.image}\r\n                                     src={r.links[0].href}\r\n                                     alt=\"archivePhoto\"\r\n                                     onClick={ (e) => {\r\n                                         setModalWindow(true)\r\n                                         setModalSrc(e.currentTarget.src)\r\n                                     }}\r\n                                     onError={ (e) => {e.target.src = imagePlaceHolder}}/>\r\n                            </LazyLoad>\r\n                        </div>)\r\n                    }\r\n\r\n                    {modalWindow &&\r\n                    <ModalWindow active={modalWindow} setActive={setModalWindow}>\r\n                        <img className={cn(common.modalImage)}\r\n                             src={modalSrc}\r\n                             alt=\"modal\"/>\r\n                    </ModalWindow>}\r\n\r\n                </div>\r\n                }\r\n                <div className={s.buttonsHolder}>\r\n                    {\r\n                        page > 1 &&\r\n                        <MdNavigateBefore className={s.pageButton}\r\n                                          onClick={ () => {dispatch(prevPage())} }/>\r\n                    }\r\n                    {\r\n                        page !== totalPages &&\r\n                        <MdNavigateNext className={s.pageButton}\r\n                                        onClick={ () => {dispatch(nextPage())} }/>\r\n                    }\r\n                </div>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NasaLibrary"],"sourceRoot":""}
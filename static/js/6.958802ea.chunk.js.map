{"version":3,"sources":["helpers/formHelpers/formsStylesMedia.module.css","helpers/commonStyles/commonStyles.module.css","images/imagePlaceholder.jpg","helpers/modalWindow/modalWindow.jsx","helpers/modalWindow/modalWindow.module.css","components/NASAlibrary/nasaLibrary.module.css","components/NASAlibrary/nasaLibraryMedia.module.css","helpers/Pagination/pagination.module.css","components/NASAlibrary/NasaLIbraryItem/NASALibraryItem.jsx","helpers/Pagination/pagination.jsx","components/NASAlibrary/paramsPickerLIBRARY/paramsPickerLIBRARY.jsx","components/NASAlibrary/nasaLibrary.jsx"],"names":["module","exports","ModalWindow","active","setActive","children","className","cn","s","modalBody","activeBody","onClick","modalContent","e","stopPropagation","NASALibraryItem","item","mediaType","dispatch","useDispatch","videosLinks","useSelector","state","library","useState","modalWindow","setModalWindow","modalSrc","setModalSrc","videoSrc","setVideoSrc","useEffect","getVideoLinks","imageHolder","m","height","image","src","links","href","alt","currentTarget","onError","target","imagePlaceHolder","common","modalImage","video","controls","Pagination","page","prevPageCondition","nextPageCondition","buttonsHolder","pageButton","prevPage","nextPage","ParamsPickerLIBRARY","setMediaType","validationSchema","yup","shape","startYear","required","min","max","yearNow","endYear","initialValues","validateOnBlur","onSubmit","values","setParamsLibrary","touched","errors","handleChange","handleBlur","handleSubmit","isValid","dirty","form","title","typesHolder","typeButton","type","inputsHolder","formInputHelper","formSubtitle","input","formButtonHelper","formButton","NasaLibrary","isFetching","result","searchStart","currentSearch","totalPages","yearStart","yearEnd","error","getSearchResult","window","scrollTo","setNewError","setSearchStart","nasaLibrary","errorCase","itemsArray","map","r","indexOf"],"mappings":"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","file":"static/js/6.958802ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"formsStylesMedia_form__1C2i4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalImage\":\"commonStyles_modalImage__2f9nz\",\"video\":\"commonStyles_video__NSDi7\"};","export default __webpack_public_path__ + \"static/media/imagePlaceholder.d121e487.jpg\";","import React from \"react\";\r\nimport s from \"./modalWindow.module.css\"\r\nimport cn from 'classnames'\r\n\r\nconst ModalWindow = ({active, setActive, children}) => {\r\n    return (\r\n        <div className={cn(s.modalBody, active && s.activeBody)}\r\n             onClick={ () => { setActive(false) } }>\r\n            <div className={s.modalContent}\r\n                 onClick={ (e) => {e.stopPropagation()} }>\r\n                {children}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModalWindow","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBody\":\"modalWindow_modalBody__37t9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibrary_title__1Ll2J\",\"nasaLibrary\":\"nasaLibrary_nasaLibrary__2qwjM\",\"itemsArray\":\"nasaLibrary_itemsArray__1RjhO\",\"imageHolder\":\"nasaLibrary_imageHolder__3_7x7\",\"image\":\"nasaLibrary_image__1VLmU\",\"errorCase\":\"nasaLibrary_errorCase__1UOTE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"nasaLibraryMedia_title__2Crz0\",\"imageHolder\":\"nasaLibraryMedia_imageHolder__1gIuf\",\"image\":\"nasaLibraryMedia_image__3XdRl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonsHolder\":\"pagination_buttonsHolder__3PzUn\",\"pageButton\":\"pagination_pageButton__1MCYV\"};","import React, {useEffect, useState} from \"react\";\r\nimport s from \"../nasaLibrary.module.css\";\r\nimport m from \"../nasaLibraryMedia.module.css\";\r\nimport common from \"../../../helpers/commonStyles/commonStyles.module.css\";\r\nimport cn from \"classnames\";\r\nimport imagePlaceHolder from \"../../../images/imagePlaceholder.jpg\";\r\nimport Lazyload from 'react-lazyload'\r\nimport ModalWindow from \"../../../helpers/modalWindow/modalWindow\";\r\nimport {getVideoLinks} from \"../../../reducers/nasaLibrary\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nconst NASALibraryItem = ({item, mediaType}) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    //State\r\n    const videosLinks = useSelector(state => state.library.videosLinks)\r\n\r\n    //State for modal window\r\n    const [modalWindow, setModalWindow] = useState(false)\r\n    const [modalSrc, setModalSrc] = useState(``)\r\n\r\n    //Setting videos src to state\r\n    const [videoSrc, setVideoSrc] = useState(``)\r\n\r\n    //Loading video when needed\r\n    useEffect(()=>{\r\n        if(mediaType === `video` && videoSrc !== ``)\r\n        dispatch(getVideoLinks(videoSrc))\r\n    },[dispatch, mediaType, videoSrc])\r\n\r\n    return (\r\n        <div>\r\n            {/*Item*/}\r\n            <div className={cn(s.imageHolder, m.imageHolder)}>\r\n                <Lazyload height={100}>\r\n                    <img className={cn(s.image, m.image)}\r\n                         src={item.links[0].href}\r\n                         alt=\"archivePhoto\"\r\n                         onClick={(e) => {\r\n                             if (mediaType === `image`) {\r\n                                 setModalWindow(true)\r\n                                 setModalSrc(e.currentTarget.src)\r\n                             } else if (mediaType === `video`) {\r\n                                 setModalWindow(true)\r\n                                 setVideoSrc(item.href)\r\n                             }\r\n\r\n                         }}\r\n                         onError={(e) => {\r\n                             e.target.src = imagePlaceHolder\r\n                         }}/>\r\n                </Lazyload>\r\n            </div>\r\n\r\n            {/*Modal window for images*/}\r\n            {modalWindow && mediaType === `image` &&\r\n            <ModalWindow active={modalWindow} setActive={setModalWindow}>\r\n                <img className={cn(common.modalImage)}\r\n                     src={modalSrc}\r\n                     alt=\"modal\"/>\r\n            </ModalWindow>}\r\n\r\n            {/*Modal window for videos*/}\r\n            {modalWindow && mediaType === `video` &&\r\n            <ModalWindow active={modalWindow} setActive={setModalWindow}>\r\n                <video className={common.video}\r\n                       src={videosLinks[0]}\r\n                       controls/>\r\n            </ModalWindow>}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default NASALibraryItem","import s from \"./pagination.module.css\";\r\nimport {MdNavigateBefore, MdNavigateNext} from \"react-icons/md\";\r\nimport {nextPage, prevPage} from \"../../reducers/nasaLibrary\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst Pagination = ({page, prevPageCondition, nextPageCondition}) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n        <div className={s.buttonsHolder}>\r\n            {page > prevPageCondition &&\r\n            <MdNavigateBefore className={s.pageButton}\r\n                              onClick={ () => {dispatch(prevPage())} }/>}\r\n\r\n            {page !== nextPageCondition &&\r\n            <MdNavigateNext className={s.pageButton}\r\n                            onClick={ () => {dispatch(nextPage())} }/>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Pagination","import React, {useState} from \"react\";\r\nimport {Formik} from \"formik\";\r\nimport * as yup from 'yup'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setParamsLibrary} from \"../../../reducers/nasaLibrary\";\r\nimport {yearNow} from \"../../../helpers/dateHelper/dateToday\";\r\nimport {formButtonHelper, formInputHelper} from \"../../../helpers/formHelpers/formHelpers\";\r\nimport s from \"../../../helpers/formHelpers/formsStyles.module.css\";\r\nimport cn from \"classnames\";\r\nimport m from \"../../../helpers/formHelpers/formsStylesMedia.module.css\";\r\n\r\nconst ParamsPickerLIBRARY = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [mediaType, setMediaType] = useState(`image`)\r\n\r\n    const validationSchema = yup.object().shape({\r\n        startYear: yup\r\n            .number()\r\n            .required(`Start year is required`)\r\n            .min(1920, `Min year is 1920`)\r\n            .max(yearNow, `Max year is ${yearNow}`) ,\r\n        endYear: yup\r\n            .number()\r\n            .required(`End year is required`)\r\n            .min(1920, `Min year is 1920`)\r\n            .max(yearNow, `Max year is ${yearNow}`) ,\r\n    })\r\n\r\n    return (\r\n        <div>\r\n           <Formik\r\n               initialValues={{\r\n                   startYear: ``,\r\n                   endYear: ``,\r\n               }}\r\n               validateOnBlur\r\n               onSubmit={ (values) => {\r\n                   if(mediaType === `image`){\r\n                       dispatch(setParamsLibrary(`image` ,values.startYear,values.endYear ))\r\n                   }\r\n                   if(mediaType === `video`){\r\n                       dispatch(setParamsLibrary(`video` ,values.startYear,values.endYear ))\r\n                   }\r\n               } }\r\n               validationSchema={validationSchema}\r\n           >\r\n               { ({values, touched, errors, handleChange, handleBlur, handleSubmit, isValid, dirty}) => (\r\n                   <form className={cn(s.form, m.form)}>\r\n\r\n                       <h3 className={s.title}>Set media type and date</h3>\r\n\r\n                       <div className={s.typesHolder}>\r\n                           <button className={s.typeButton}\r\n                                   type='button'\r\n                                   onClick={ () => {setMediaType(`image`)} }>Images</button>\r\n                           <button className={s.typeButton}\r\n                                   type='button'\r\n                                   onClick={ () => {setMediaType(`video`)} }>Videos</button>\r\n                       </div>\r\n\r\n                       <div className={s.inputsHolder}>\r\n                           {formInputHelper(s.formSubtitle, `Start year`, touched.startYear, errors.startYear,\r\n                               s.input, `number`, `startYear`, `1920`, yearNow, handleChange,\r\n                               handleBlur, values.startYear)}\r\n                           {formInputHelper(s.formSubtitle, `End year`, touched.endYear, errors.endYear,\r\n                               s.input, `number`, `endYear`, `1920`, yearNow, handleChange,\r\n                               handleBlur, values.endYear)}\r\n                       </div>\r\n\r\n                       {formButtonHelper(s.formButton, isValid, dirty, handleSubmit, `Show`)}\r\n\r\n                   </form>\r\n               ) }\r\n           </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ParamsPickerLIBRARY","import React, {useEffect} from \"react\";\r\nimport s from './nasaLibrary.module.css'\r\nimport m from './nasaLibraryMedia.module.css'\r\nimport cn from 'classnames'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSearchResult, setSearchStart} from \"../../reducers/nasaLibrary\";\r\nimport Preloader from \"../../helpers/preloaders/preloader\";\r\nimport {setNewError} from \"../../reducers/errors\";\r\nimport NASALibraryItem from \"./NasaLIbraryItem/NASALibraryItem\";\r\nimport Pagination from \"../../helpers/Pagination/pagination\";\r\nimport ParamsPickerLIBRARY from \"./paramsPickerLIBRARY/paramsPickerLIBRARY\";\r\n\r\nconst NasaLibrary = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    //State\r\n    const isFetching = useSelector(state => state.library.isFetching)\r\n    const result = useSelector(state => state.library.result)\r\n    const searchStart = useSelector(state => state.library.searchStart)\r\n    const currentSearch = useSelector(state => state.library.currentSearch)\r\n    const page = useSelector(state => state.library.page)\r\n    const totalPages = useSelector(state => state.library.totalPages)\r\n    const mediaType = useSelector(state => state.library.mediaType)\r\n    const yearStart = useSelector(state => state.library.yearStart)\r\n    const yearEnd = useSelector(state => state.library.yearEnd)\r\n\r\n    //Error state\r\n    const error = useSelector(state => state.errors.error)\r\n\r\n    //Setting items\r\n    useEffect(()=>{\r\n        dispatch(getSearchResult(currentSearch, mediaType, yearStart, yearEnd, page))\r\n        window.scrollTo(0, 0)\r\n    },[dispatch, currentSearch, mediaType, yearStart, yearEnd, page])\r\n\r\n    //Error = null when page loads\r\n    useEffect(()=>{\r\n        dispatch(setNewError(null))\r\n    },[dispatch])\r\n\r\n    //SearchStart = null when page loads (with this is's possible to go to other links)\r\n    useEffect(()=>{\r\n        dispatch(setSearchStart(false))\r\n    },[dispatch, searchStart])\r\n\r\n\r\n    return (\r\n        <div className={s.nasaLibrary}>\r\n            <h2 className={cn(s.title, m.title)}>NASA photo and Video library</h2>\r\n\r\n            <ParamsPickerLIBRARY />\r\n\r\n            {/*Error case*/}\r\n            {!result && error &&\r\n            <div className={s.errorCase}>No results for this search</div>}\r\n\r\n            {/*Preloader*/}\r\n            {!result && !error &&\r\n            <Preloader/>}\r\n\r\n            {/*Result*/}\r\n            {result && !error &&\r\n            <div>\r\n                {/*Preloader*/}\r\n                {isFetching && <Preloader />}\r\n\r\n                {/*Result items*/}\r\n                {!isFetching &&\r\n                <div className={s.itemsArray}>\r\n                    {result.map(r => <NASALibraryItem key={result.indexOf(r)}\r\n                                                      item={r}\r\n                                                      mediaType={mediaType}/>)}\r\n                </div>}\r\n\r\n                {/*Pagination*/}\r\n                <Pagination page = {page}\r\n                            prevPageCondition = {'1'}\r\n                            nextPageCondition = {totalPages}/>\r\n\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NasaLibrary"],"sourceRoot":""}